/*------------------------------------------------------------------------------
Function:       eCSStender.CSS3-media-queries.js
Author:         Daniel Ryan (daniel at easy-designs dot net)
Creation Date:  2011-07-14
Version:        0.1
Homepage:       http://github.com/easy-designs/eCSStender.CSS3-media-queries.js
License:        MIT License 
Note:           If you change or improve on this script, please let us know by
                emailing the author (above) with a link to your demo page.
------------------------------------------------------------------------------*/
(function(a){if(typeof a.matchMedia=="undefined"){return}a.onComplete(function(){var w,A="stylesheet",n="alternate",u="screen",e="all",D="undefined",m="onresize",z=window,h=document,l=true,x=false;if(typeof z.matchMedia!=D&&z.matchMedia("(min-width:1px)").matches){w=l}else{var r,C=h,y=C.documentElement,k=y.firstElementChild||y.firstChild,c=!C.body,i=C.body||C.createElement("body"),s=C.createElement("div"),t="only all";s.id="mq-test-1";s.style.cssText="position:absolute;top:-99em";i.appendChild(s);s.innerHTML='_<style media="'+t+'"> #mq-test-1 { width: 9px; }</style>';if(c){y.insertBefore(i,k)}s.removeChild(s.firstChild);r=s.offsetWidth==9;if(c){y.removeChild(i)}else{i.removeChild(s)}w=r}if(w){return}var j=[],g,p,v,B,o,d,f,b;for(g in a.mediaQueryStyles){if(a.isInheritedProperty(a.mediaQueryStyles,g)){continue}p=[];v=g.toUpperCase();for(B in a.mediaQueryStyles[g]){if(a.isInheritedProperty(a.mediaQueryStyles[g],B)){continue}o=[];for(d in a.mediaQueryStyles[g][B]){if(a.isInheritedProperty(a.mediaQueryStyles[g][B],d)){continue}o.push(d+":"+a.mediaQueryStyles[g][B][d])}p.push(B+"{"+o.join(";")+"}")}f=a.embedCSS(p.join(","),g);f.disabled=l;f.media=u;b=g.split(" ");if(b.length){b=b[0].replace(/,$/,"").toLowerCase();if(b!="all"&&b!="screen"){f.media=g}}if(f.media!=g&&(v.indexOf("WIDTH")>-1||v.indexOf("HEIGHT")>-1||v.indexOf("ORIENTATION")>-1)){j.push({query:g,sheet:f})}}activateSheets=function(){var q=j.length;while(q--){var E=j[q];E.sheet.disabled=!a.matchMedia(E.query)}};if(z.addEventListener){z.addEventListener(m,activateSheets,x)}else{if(z.attachEvent){z.attachEvent(m,activateSheets)}}activateSheets()})})(eCSStender);